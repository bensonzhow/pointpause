<html xmlns:facelets="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://java.sun.com/jsf/html"
	xmlns:jsfCore="http://java.sun.com/jsf/core"
	xmlns:richfaces="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<facelets:composition template="masterPage.html">
<facelets:define name="HeadScriptorCss">
	<link type="text/css" href="css/style.css" rel="stylesheet" />
	</facelets:define>
 	<facelets:define name="Contenu">
 		<div id="Incident">
 			<div  class="banieresav" >
 			</div>
                <richfaces:panel  styleClass="declareIncident" >
                 	<table class="tableIncident">
                 		<tr>
                 			<th colspan="2"><font size="2px">Declaration d'incident :</font></th>
                 		</tr>
                 		<tr>
                 			<td ></td>
                 			<td class="textTabIncident" width="100px" height="20px">N° de Contrat: </td>
                 			<td width="250px">
	                 			<jsf:form id="form">
	                 				<jsf:selectOneListbox value="#{declareIncidentMB.toto}" id="listeContrat" style="width:147px;"  
	                 											size="1" 
	                 											valueChangeListener="#{declareIncidentMB.valueChangeListener}"
																onchange="submit()">
	                 					 <jsfCore:selectItems value="#{declareIncidentMB.numContrat}" />
	                 				</jsf:selectOneListbox>
	                 			</jsf:form>	
                 			</td>
                 			<td class="textTabIncident" width="150px" >Date de constat: </td>
                 			<td>
                 				<a4j:outputPanel id="calendarConstat" layout="block">
									<richfaces:calendar value="#{declareIncidentMB.dateConstatIncident}"
											datePattern="dd/MM/yyyy">
									</richfaces:calendar>
								</a4j:outputPanel>
                 			</td>
                 			
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" width="100px">N° de machine: </td>
                 			<td>
                 				<jsf:selectOneListbox style="width:147px;" >	
                                 		<jsfCore:selectItems value="#{declareIncidentMB.listMachine}" />
                 				</jsf:selectOneListbox>
                 			</td>
                 			<td class="textTabIncident" width="150px">Date de Déclaration: </td>
                 			<td>
                 				<a4j:outputPanel id="calendarDeclaration" layout="block">
									<richfaces:calendar value="#{declareIncidentMB.dateDeclarationIncident}"
											datePattern="dd/MM/yyyy" showApplyButton="true" >
									</richfaces:calendar>
								</a4j:outputPanel>
                 			</td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" >Type problème: </td>
                 			<td><jsf:selectOneListbox style="width:147px;" value="#{declareIncidentMB.value}" size="1">	
	                                 <jsfCore:selectItems value="#{declareIncidentMB.typePb}" />
                 				</jsf:selectOneListbox>
                 			</td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td valign="top" align="right">Commentaire: </td>
                 			<td colspan="3"><jsf:inputTextarea  id="comContact" cols="66" rows="5" value="#{declareIncidentMB.commentaire}" />
                 			</td>
                 		</tr>
                 		<tr>
                 			<td class="textTabIncident" colspan="4"><jsf:selectBooleanCheckbox value="#{declareIncidentMB.flag}" /> Voulez vous suivre cette incident dans votre tableau de bord ?</td>
                 			<td><jsf:commandButton id="submitIncident" action="#{declareIncidentMB.declare}" value="Suivant" style="width:147px; height:30px;" /></td>
                 		</tr>
                 	</table>
                 	
                 </richfaces:panel>
                 <richfaces:panel styleClass="recapitulationIncident" >
                 	<table class="tableRecapIncident" border="1px">
                 		<tr>
                 			<th colspan="2"><font size="2px">Votre Récapitulatif: </font></th>
                 		</tr>
                 		<tr>
                 			<td ></td>
                 			<td class="textTabIncident" width="100px" height="20px">N° de machine: </td>
                 			<td width="250px">
                 			</td>
                 			<td class="textTabIncident" width="150px">Date de constat: </td>
                 			<td> <jsf:outputLabel value="#{declareIncidentMB.dateConstatIncident}"></jsf:outputLabel>
                 			</td>
                 			
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" width="100px">N° de contrat: </td>
                 			<td><jsf:outputLabel value="#{declareIncidentMB.valueContrat}"></jsf:outputLabel>
                 			</td>
                 			<td class="textTabIncident" width="150px">Date de Déclaration: </td>
                 			<td><jsf:outputLabel value="#{declareIncidentMB.dateDeclarationIncident}"></jsf:outputLabel>
                 			</td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" >Contact: </td>
                 			<td></td> 
                 			<td class="textTabIncident">Télephone: </td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td valign="top" align="right">Commentaire: </td>
                 			<td><jsf:outputLabel value="#{declareIncidentMB.commentaire}"></jsf:outputLabel></td>
                 		</tr>
                 		<tr>
                 			<td class="textTabIncident" colspan="4"> Voulez allez suivre cette incident dans votre tableau de bord</td>
                 		</tr>
                 	</table>
                 </richfaces:panel>
 		</div>
 	
 	</facelets:define>
</facelets:composition>
</html>