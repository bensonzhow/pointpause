<html xmlns:facelets="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://java.sun.com/jsf/html"
	xmlns:jsfCore="http://java.sun.com/jsf/core"
	xmlns:richfaces="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<facelets:composition template="masterPage.html">
<facelets:define name="HeadScriptorCss">
	<link type="text/css" href="css/style.css" rel="stylesheet" />
	</facelets:define>
 	<facelets:define name="Contenu">
 		<div id="Incident">
 			<div  class="banieresav" >
 			</div>
                <richfaces:panel  styleClass="declareIncident" >
                 	<table class="tableIncident">
                 		<tr>
                 			<th colspan="2" height="15px"><font size="3px">Declaration d'incident :</font></th>
                 		</tr>
                 		<tr>
                 			<td ></td>
                 			<td class="textTabIncident" width="100px" height="20px">N° de Contrat: </td>
                 			<td width="250px">
	                 			<jsf:form id="form">
	                 				<jsf:selectOneListbox id="listeContrat" style="width:147px;"  
	                 											size="1" 
	                 											valueChangeListener="#{declareIncidentMB.valueChangeListener}"
																onchange="submit()">
	                 					 <jsfCore:selectItems value="#{declareIncidentMB.numContrat}" />
	                 				</jsf:selectOneListbox>
	                 			</jsf:form>	
                 			</td>
                 			<td class="textTabIncident" width="150px" >Date de constat: </td>
                 			<td>
                 				<a4j:outputPanel id="calendarConstat" layout="block">
									<richfaces:calendar value="#{declareIncidentMB.dateConstatIncident}"
											datePattern="dd/MM/yyyy">
									</richfaces:calendar>
								</a4j:outputPanel>
                 			</td>
                 			
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" width="100px">N° de machine: </td>
                 			<td>
                 				<jsf:selectOneListbox style="width:147px;" size="1" value="#{declareIncidentMB.numMachine}">	
                                 		<jsfCore:selectItems value="#{declareIncidentMB.listMachine}" />
                 				</jsf:selectOneListbox>
                 			</td>
                 			<td class="textTabIncident" width="150px">Date de Déclaration: </td>
                 			<td>
                 				<a4j:outputPanel id="calendarDeclaration" layout="block">
									<richfaces:calendar value="#{declareIncidentMB.dateDeclarationIncident}"
											datePattern="dd/MM/yyyy" showApplyButton="true" >
									</richfaces:calendar>
								</a4j:outputPanel>
                 			</td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td class="textTabIncident" >Type problème: </td>
                 			<td><jsf:selectOneListbox style="width:147px;" value="#{declareIncidentMB.value}" size="1">	
	                                 <jsfCore:selectItems value="#{declareIncidentMB.typePb}" />
                 				</jsf:selectOneListbox>
                 			</td>
                 		</tr>
                 		<tr>
                 			<td></td>
                 			<td valign="top" align="right">Commentaire: </td>
                 			<td colspan="3"><jsf:inputTextarea  id="comContact" cols="66" rows="5" value="#{declareIncidentMB.commentaire}" />
                 			</td>
                 		</tr>
                 		<tr>
                 			<td class="textTabIncident" colspan="4" style="text-align:right;"><jsf:selectBooleanCheckbox value="#{declareIncidentMB.flag}" /> Voulez vous suivre cette incident dans votre tableau de bord ?</td>
                 			<td><jsf:commandButton id="submitCofirmation" action="#{declareIncidentMB.confirmation}" value="Suivant" style="width:147px; height:30px;" /></td>
                 		</tr>
                 	</table>
                 	
                 </richfaces:panel>
                 <richfaces:panel rendered="#{declareIncidentMB.voirpanel}"  styleClass="recapitulationIncident" >
                 	<table class="tableRecapIncident" width="780px" >
                 		<tr><th height="15px" style="text-align:left;" colspan="2"><strong><font size="3px">Votre récapitulatif :</font></strong></th></tr>
                 		<tr><td height="15px" ></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td class="classTdText">Numéro de contrat </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.idContrat}"/></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td>Numéro de machine concernée </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.numMachine}"/></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td>Date de constat de l'incident </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.dateConstatIncident}"><jsfCore:convertDateTime pattern="dd/MM/yyyy"/></jsf:outputText></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td>Date de déclaration de l'incident </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.dateDeclarationIncident}"><jsfCore:convertDateTime pattern="dd/MM/yyyy"/></jsf:outputText></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td>Le type de problème </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.value}"/></td></tr>
                 		<tr><td class="classTd"></td>
                 		<td>Commentaire(s) </td><td>:</td><td> <jsf:outputText value="#{declareIncidentMB.commentaire}"/></td></tr>
                 		<tr><td colspan="4" style="text-align:right;"><jsf:commandButton id="submitIncident" action="#{declareIncidentMB.declare}" value="Confirmer" style="width:147px; height:30px;"/></td></tr>
                 	 </table>
                 </richfaces:panel>
 		</div>
 	
 	</facelets:define>
</facelets:composition>
</html>